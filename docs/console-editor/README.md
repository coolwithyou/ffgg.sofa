# SOFA Console Editor - ì§ê´€ì  ì—ë””í„° ì¸í„°í˜ì´ìŠ¤

> Littly ìŠ¤íƒ€ì¼ì˜ 3-ì»¬ëŸ¼ ë ˆì´ì•„ì›ƒìœ¼ë¡œ, "ì‰½ê³  ì§ê´€ì ì¸" ì±—ë´‡ í˜ì´ì§€/ìœ„ì ¯ í¸ì§‘ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.

## ê°œìš”

### ë°°ê²½
ê¸°ì¡´ SOFA í¬íƒˆ(`/chatbots/[id]`)ì€ ê¸°ëŠ¥ì ìœ¼ë¡œ ì™„ì„±ë˜ì—ˆì§€ë§Œ, ì¼ë°˜ ì‚¬ìš©ìì—ê²ŒëŠ” ë³µì¡í•˜ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Console EditorëŠ” "ìƒê°í•  í•„ìš” ì—†ì´ ë°”ë¡œ í¸ì§‘"í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ UXë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### í•µì‹¬ ì›ì¹™
- **ì‰¬ì›€**: ë³µì¡í•œ ì„¤ì • ì—†ì´ ë°”ë¡œ ì‹œì‘
- **ì§ê´€ì **: ë³´ì´ëŠ” ëŒ€ë¡œ í¸ì§‘ (WYSIWYG)
- **ê¸°ì¡´ API ì¬ì‚¬ìš©**: UIë§Œ ìƒˆë¡œ êµ¬í˜„, ë°±ì—”ë“œ ë¡œì§ 100% ì¬ì‚¬ìš©

### ë‘ ê°€ì§€ í¸ì§‘ ëª¨ë“œ
1. **Page ëª¨ë“œ**: ë…ë¦½ ëœë”© í˜ì´ì§€ (`https://domain.com/[slug]`) í¸ì§‘
2. **Widget ëª¨ë“œ**: iframe ìœ„ì ¯ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### MVP ìš°ì„ ìˆœìœ„
Page ëª¨ë“œë¥¼ ë¨¼ì € êµ¬í˜„í•˜ê³ , Widget ëª¨ë“œëŠ” í›„ì†ìœ¼ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.

---

## ì•„í‚¤í…ì²˜

### ì „ì²´ êµ¬ì¡°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Console Editor                                  â”‚
â”‚                              /console/                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Left     â”‚  â”‚       Center Preview          â”‚  â”‚   Right Settings   â”‚  â”‚
â”‚  â”‚  Sidebar   â”‚  â”‚                               â”‚  â”‚                    â”‚  â”‚
â”‚  â”‚            â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ [Page]     â”‚  â”‚    â”‚  â† [+]  ğŸ“±  [â†’]  â”‚      â”‚  â”‚  â”‚ í—¤ë” ì„¤ì •     â”‚  â”‚  â”‚
â”‚  â”‚ [Widget]   â”‚  â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚  â”‚  â”‚ - ì œëª©        â”‚  â”‚  â”‚
â”‚  â”‚            â”‚  â”‚    â”‚                   â”‚      â”‚  â”‚  â”‚ - ì„¤ëª…        â”‚  â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚    â”‚   Device Frame    â”‚      â”‚  â”‚  â”‚ - ë¡œê³         â”‚  â”‚  â”‚
â”‚  â”‚            â”‚  â”‚    â”‚                   â”‚      â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚ ì±—ë´‡ 1     â”‚  â”‚    â”‚   PublicPageView  â”‚      â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ ì±—ë´‡ 2     â”‚  â”‚    â”‚   (ì§ì ‘ ë Œë”ë§)    â”‚      â”‚  â”‚  â”‚ í…Œë§ˆ ì„¤ì •     â”‚  â”‚  â”‚
â”‚  â”‚ + ìƒˆ ì±—ë´‡  â”‚  â”‚    â”‚                   â”‚      â”‚  â”‚  â”‚ - ë°°ê²½ìƒ‰      â”‚  â”‚  â”‚
â”‚  â”‚            â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚  â”‚ - ì£¼ìš”ìƒ‰      â”‚  â”‚  â”‚
â”‚  â”‚            â”‚  â”‚                               â”‚  â”‚  â”‚ - í…ìŠ¤íŠ¸ìƒ‰    â”‚  â”‚  â”‚
â”‚  â”‚            â”‚  â”‚                               â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Settings Panel â”‚â”€â”€â”€â”€â–¶â”‚ ConsoleContext  â”‚â”€â”€â”€â”€â–¶â”‚  Preview Area   â”‚
â”‚   (Right)       â”‚     â”‚   (ìƒíƒœ ê´€ë¦¬)    â”‚     â”‚   (Center)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼ (Debounced)
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   Existing API  â”‚
                        â”‚ PATCH /chatbots â”‚
                        â”‚ /[id]/public-pageâ”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ì˜ ê´€ê³„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SOFA Platform                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Widget     â”‚    â”‚ Public Page  â”‚    â”‚     Portal       â”‚   â”‚
â”‚  â”‚  /widget/*   â”‚    â”‚  /[slug]     â”‚    â”‚  /chatbots/*     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                   â”‚                      â”‚             â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                             â”‚                                    â”‚
â”‚                             â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Console Editor (/console/)                   â”‚   â”‚
â”‚  â”‚                   ìƒˆë¡œìš´ í¸ì§‘ ì¸í„°í˜ì´ìŠ¤                    â”‚   â”‚
â”‚  â”‚              (ê¸°ì¡´ API ì¬ì‚¬ìš©, UIë§Œ ìƒˆë¡œ êµ¬í˜„)              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚                                    â”‚
â”‚                             â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Existing APIs                          â”‚   â”‚
â”‚  â”‚  GET/PATCH /api/chatbots/[id]/public-page                â”‚   â”‚
â”‚  â”‚  POST /api/chatbots/[id]/public-page/publish             â”‚   â”‚
â”‚  â”‚  POST /api/public-page/check-slug                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Phase êµ¬ì„±

| Phase | ì£¼ìš” ì‘ì—… | ì˜ì¡´ì„± | ë¬¸ì„œ |
|-------|----------|--------|------|
| 1 | ê¸°ë°˜ êµ¬ì¡° (ë¼ìš°íŠ¸, ë ˆì´ì•„ì›ƒ, Context) | ì—†ìŒ | [phase-1-foundation.md](./phase-1-foundation.md) |
| 2 | í”„ë¦¬ë·° ì‹œìŠ¤í…œ (ë””ë°”ì´ìŠ¤ í”„ë ˆì„, ì§ì ‘ ë Œë”ë§) | Phase 1 | [phase-2-preview.md](./phase-2-preview.md) |
| 3 | ì„¤ì • íŒ¨ë„ (í—¤ë”/í…Œë§ˆ/SEO í¼) | Phase 1, 2 | [phase-3-settings-panel.md](./phase-3-settings-panel.md) |
| 4 | GSAP ìºëŸ¬ì…€ (ì±—ë´‡ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜) | Phase 1, 2 | [phase-4-carousel.md](./phase-4-carousel.md) |
| 5 | ìë™ ì €ì¥ ë° ë°œí–‰ | Phase 1, 3 | [phase-5-auto-save.md](./phase-5-auto-save.md) |
| 6 | Widget ëª¨ë“œ (í›„ì†) | Phase 1-5 | [phase-6-widget-mode.md](./phase-6-widget-mode.md) |

**MVP ë²”ìœ„**: Phase 1-5 (Page ëª¨ë“œ ì™„ì„±)

---

## í•µì‹¬ íŒŒì¼ êµ¬ì¡°

### ì‹ ê·œ ìƒì„± íŒŒì¼
```
app/
â”œâ”€â”€ (console)/
â”‚   â””â”€â”€ console/
â”‚       â”œâ”€â”€ layout.tsx                    # ì½˜ì†” ì „ìš© ë ˆì´ì•„ì›ƒ
â”‚       â”œâ”€â”€ page.tsx                      # ë©”ì¸ ì—ë””í„° í˜ì´ì§€
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ console-header.tsx        # ìƒë‹¨ í—¤ë”
â”‚       â”‚   â”œâ”€â”€ left-sidebar.tsx          # ì¢Œì¸¡ ì‚¬ì´ë“œë°”
â”‚       â”‚   â”œâ”€â”€ center-preview.tsx        # ì¤‘ì•™ í”„ë¦¬ë·°
â”‚       â”‚   â”œâ”€â”€ right-settings.tsx        # ìš°ì¸¡ ì„¤ì • íŒ¨ë„
â”‚       â”‚   â”œâ”€â”€ device-frame.tsx          # ë””ë°”ì´ìŠ¤ í”„ë ˆì„
â”‚       â”‚   â”œâ”€â”€ chatbot-carousel.tsx      # ìºëŸ¬ì…€ (GSAP)
â”‚       â”‚   â””â”€â”€ settings/
â”‚       â”‚       â”œâ”€â”€ header-settings.tsx   # í—¤ë” ì„¤ì •
â”‚       â”‚       â”œâ”€â”€ theme-settings.tsx    # í…Œë§ˆ ì„¤ì •
â”‚       â”‚       â””â”€â”€ seo-settings.tsx      # SEO ì„¤ì •
â”‚       â”œâ”€â”€ hooks/
â”‚       â”‚   â”œâ”€â”€ use-console-state.tsx     # Context + ìƒíƒœ
â”‚       â”‚   â””â”€â”€ use-auto-save.tsx         # ìë™ ì €ì¥ í›…
â”‚       â””â”€â”€ types.ts                      # íƒ€ì… ì •ì˜
```

### ì¬ì‚¬ìš©í•  ê¸°ì¡´ íŒŒì¼
| íŒŒì¼ | ìš©ë„ |
|------|------|
| `app/[slug]/public-page-view.tsx` | í”„ë¦¬ë·° ë Œë”ë§ |
| `app/[slug]/components/header-block.tsx` | í—¤ë” ë¸”ë¡ |
| `app/[slug]/components/chatbot-block.tsx` | ì±—ë´‡ ë¸”ë¡ |
| `lib/public-page/types.ts` | íƒ€ì… ì •ì˜ |

---

## ê¸°ìˆ  ìŠ¤íƒ

| ì˜ì—­ | ê¸°ìˆ  |
|------|------|
| í”„ë ˆì„ì›Œí¬ | Next.js 16 App Router |
| ìŠ¤íƒ€ì¼ | Tailwind CSS v4 + OKLCH |
| UI ì»´í¬ë„ŒíŠ¸ | shadcn/ui (Radix UI) |
| ì• ë‹ˆë©”ì´ì…˜ | GSAP |
| ìƒíƒœ ê´€ë¦¬ | React Context + useState |
| ìë™ ì €ì¥ | use-debounce |

---

## ì „ì—­ ì»¨í…ìŠ¤íŠ¸ (ëª¨ë“  Phase ê³µìœ )

### ConsoleContext íƒ€ì…
```typescript
// app/(console)/console/hooks/use-console-state.tsx

interface ConsoleState {
  // í¸ì§‘ ëª¨ë“œ
  mode: 'page' | 'widget';

  // ì±—ë´‡ ë°ì´í„°
  chatbots: Chatbot[];
  currentChatbotIndex: number;
  currentChatbot: Chatbot | null;

  // Page ëª¨ë“œ ì„¤ì •
  pageConfig: PublicPageConfig;

  // Widget ëª¨ë“œ ì„¤ì • (Phase 6)
  widgetConfig: WidgetConfig | null;

  // ì €ì¥ ìƒíƒœ
  saveStatus: 'saved' | 'saving' | 'error' | 'unsaved';

  // ì•¡ì…˜
  setMode: (mode: 'page' | 'widget') => void;
  selectChatbot: (index: number) => void;
  updatePageConfig: (partial: Partial<PublicPageConfig>) => void;
  updateWidgetConfig: (partial: Partial<WidgetConfig>) => void;
  setSaveStatus: (status: SaveStatus) => void;
}
```

### ì¬ì‚¬ìš© íƒ€ì… (lib/public-page/types.ts)
```typescript
interface PublicPageConfig {
  header: HeaderConfig;
  theme: ThemeConfig;
  seo: SEOConfig;
}

interface HeaderConfig {
  title: string;
  description: string;
  logoUrl?: string;
  showBrandName: boolean;
}

interface ThemeConfig {
  backgroundColor: string;
  primaryColor: string;
  textColor: string;
  fontFamily?: string;
}

interface SEOConfig {
  title: string;
  description?: string;
  ogImage?: string;
}
```

---

## ë¸Œëœì¹˜ ì „ëµ

- **ì‘ì—… ë¸Œëœì¹˜**: `console`
- **ê¸°ë³¸ ë¸Œëœì¹˜**: `main`
- Phaseë³„ë¡œ ì‘ì—… í›„ PR ìƒì„± ê¶Œì¥

---

## ê´€ë ¨ ë¬¸ì„œ

- [Public Page êµ¬í˜„](../public-page/README.md)
- [ìƒˆë¡œìš´ ë°©í–¥ ë¹„ì „](../visions/ìƒˆë¡œìš´-ë°©í–¥-ì •ë¦¬ë³¸.md)
