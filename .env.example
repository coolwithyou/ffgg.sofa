# ===========================================
# SOFA - 환경변수 설정 가이드
# ===========================================
# 이 파일을 .env.local로 복사하고 실제 값으로 채워주세요.
# 프로덕션 배포 시 Vercel 환경변수에 설정하세요.

# -------------------------------------------
# 데이터베이스 (필수)
# -------------------------------------------
# Neon PostgreSQL 연결 문자열
# https://console.neon.tech 에서 발급
DATABASE_URL=postgresql://user:password@host/database?sslmode=require
# 풀링 없는 연결 (마이그레이션용)
DATABASE_URL_UNPOOLED=postgresql://user:password@host/database?sslmode=require

# -------------------------------------------
# 세션 보안 (필수)
# -------------------------------------------
# 32자 이상의 랜덤 문자열
# 생성 예: openssl rand -base64 32
SESSION_SECRET=your-secret-key-at-least-32-characters-long

# -------------------------------------------
# Rate Limiting (권장)
# -------------------------------------------
# Upstash Redis 연결 정보
# https://console.upstash.com 에서 발급
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# -------------------------------------------
# AI 모델 (필수)
# -------------------------------------------
# Google Gemini API 키 (메인 LLM)
# https://aistudio.google.com/app/apikey 에서 발급
GOOGLE_GENERATIVE_AI_API_KEY=your-google-api-key

# OpenAI API 키 (폴백용)
# https://platform.openai.com/api-keys 에서 발급
OPENAI_API_KEY=your-openai-api-key

# Anthropic API 키 (Contextual Chunking용)
# https://console.anthropic.com/settings/keys 에서 발급
# 설정 시 문서 청킹에 AI 컨텍스트가 자동 추가됩니다
ANTHROPIC_API_KEY=your-anthropic-api-key

# -------------------------------------------
# 파일 저장소 (선택)
# -------------------------------------------
# S3 호환 스토리지 (AWS S3, Cloudflare R2, MinIO 등)
S3_BUCKET=your-bucket-name
S3_REGION=ap-northeast-2
S3_ACCESS_KEY_ID=your-access-key
S3_SECRET_ACCESS_KEY=your-secret-key
# S3 호환 스토리지 사용 시 (Cloudflare R2 등)
S3_ENDPOINT=https://your-account.r2.cloudflarestorage.com

# -------------------------------------------
# 이메일 발송 (필수)
# -------------------------------------------
# Resend API 키
# https://resend.com/api-keys 에서 발급
RESEND_API_KEY=your-resend-api-key
# 발신자 이메일 (Resend에서 인증된 도메인 필요)
# 형식: "서비스명 <email@domain.com>"
EMAIL_FROM=SOFA <noreply@your-domain.com>

# -------------------------------------------
# 백그라운드 작업 (선택)
# -------------------------------------------
# Inngest 설정
# https://www.inngest.com 에서 발급
INNGEST_EVENT_KEY=your-inngest-event-key
INNGEST_SIGNING_KEY=your-inngest-signing-key

# -------------------------------------------
# 앱 설정
# -------------------------------------------
# 앱 URL (프로덕션)
NEXT_PUBLIC_APP_URL=https://your-domain.com
# 관리자 이메일 (알림 수신)
ADMIN_EMAIL=admin@your-domain.com
# CORS 허용 도메인 (위젯 임베드용)
ALLOWED_ORIGIN=*

# -------------------------------------------
# OAuth (선택)
# -------------------------------------------
# Google OAuth 2.0 설정
# https://console.cloud.google.com/apis/credentials 에서 발급
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Kakao OAuth 2.0 설정
# https://developers.kakao.com/console/app 에서 발급
# 1. 앱 생성 후 REST API 키 복사
# 2. 카카오 로그인 > 활성화 설정 ON
# 3. Redirect URI 등록: {NEXT_PUBLIC_APP_URL}/api/auth/kakao/callback
# 4. 동의 항목 > profile_nickname, account_email 필수 설정
KAKAO_CLIENT_ID=your-kakao-rest-api-key
# Client Secret은 선택사항 (카카오 앱 보안 설정에서 활성화 시)
KAKAO_CLIENT_SECRET=your-kakao-client-secret

# -------------------------------------------
# 결제 - PortOne V2 (선택)
# -------------------------------------------
# PortOne 콘솔에서 발급
# https://admin.portone.io 에서 확인
# 스토어 ID (store-xxxxx 형식)
PORTONE_STORE_ID=store-xxxxx
# 채널 키 (토스페이먼츠 등 PG사 채널)
PORTONE_CHANNEL_KEY=channel-key-xxxxx
# V2 API Secret (API 호출 인증용)
PORTONE_API_SECRET=your-portone-api-secret
# 웹훅 시크릿 (웹훅 검증용)
PORTONE_WEBHOOK_SECRET=your-webhook-secret

# -------------------------------------------
# 결제 - 보안 키 (선택)
# -------------------------------------------
# 빌링키 암호화 키 (AES-256, 64 hex chars)
# 생성 예: openssl rand -hex 32
BILLING_ENCRYPTION_KEY=your-64-character-hex-encryption-key-here-1234567890abcdef
# Cron 작업 인증 시크릿 (정기결제 등)
CRON_SECRET=your-cron-secret-key

# -------------------------------------------
# 보안 설정 (프로덕션 권장)
# -------------------------------------------
# 프로덕션 환경 설정
NODE_ENV=production
